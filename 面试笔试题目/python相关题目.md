# python的内存管理

python内存管理可以从三个方面讲：垃圾回收、引用计数、内存池机制



## 垃圾回收

垃圾回收的意思就是，在python语言内部，当一个对象的引用计数为0时，它将被垃圾收集机制处理掉。



## 引用计数

python依靠引用计数方式追踪内存中的对象，python内部记录着对象的引用次数，当引用计数归零的时候表示对象不再需要，即被垃圾回收。



## 内存池机制

python将不用的内存放进内存池而不是返回给操作系统。

- Pymalloc机制：为了对小块内存的申请和释放，加速Python的执行效率
- Python中小于256个字节的对象都是依靠pymalloc分配器来实现的，而稍大的对象用的则是系统的malloc。
- 对于Python对象，如整数、浮点数和List这些，都有自己独立的内存池，对象间并不共享他们的内存池。换句话说就是，假设你分配并且释放了大量的整数，那么用于缓存这些整数的内存就不能再分配给浮点数。



# is和==的区别

is：同一性运算符；==：比较操作符



== 用来比较两个值是否相等，is比较的是两个对象的id是否相等。

```python
>>> x = y = [4,5,6]
>>> z = [4,5,6]
>>> x == y
True
>>> x == z
True
>>> x is y
True
>>> x is z
False
>>> print id(x)
3075326572
>>> print id(y)
3075326572
>>> print id(z)
3075328140
```

