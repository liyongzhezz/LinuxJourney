现代软件编译和发布的时候经常会听到CI和CD这样的名词，CI指的是持续集成，CD既可以指代码持续交付，也可以指代码持续部署。



# 持续集成CI

在持续集成中，开发人员将会频繁的提交代码，并通过自动编译和自动化测试进行验证，然后合并到主线。持续集成十分重视自动化，尤其是自动化测试的结果，其保障了合并到主线后的代码质量，并对可能出现的问题进行预警。



通过持续集成，可以尽快得到自动化测试结果，避免一些问题提交到生产中，这样研发能够更快的解决测试发生的问题；CI服务器可以一次运行很多的测试，降低成本；QA团队将会减少在测试上花费的时间，从而侧重于质量文化上的提升。



# 持续交付和持续部署CD

持续交付就是应用发布的过程，能够确保实现快速的交付。持续交付依赖于自动化部署流程，通过CD，可以实现每天、每周、每星期发布一次。



持续部署则能够让对项目的更新更快的部署到生产中。通过持续部署，任何通过了已有的工作流的更改都会直接部署到生产中而没有人为干预，只有某个工作流出现错误的时候才会阻止这次部署。



持续部署不再像持续交付那样有一个固定的发布版本的日期，持续部署能够更快的让用户体验到新的改进和功能，开发人员能够更专注于软件开发，他们只需要在主分支中合并一个提交时，就会触发构建、测试等工作流。如果顺利，往往在他们修改完成的几分钟内就可以看到上线结果。

> 但是持续部署对于自动化测试的依赖更高，一旦测试不足就自动上线会导致严重的后果



# 持续集成的条件

想实现持续集成，至少需要以下的几个条件：

- 需要为每个功能、改进、问题修复创建自动化测试用例；
- 需要持续集成服务器，可以监控代码提交情况并对每个新的提交进行自动化测试；
- 开发人员需要快速的提交代码；



# 持续交付的条件

想实现持续交付，至少需要如下的一些条件：

- 需要持续集成组件和足够多且充分的自动化测试项；
- 需要手动触发部署，但部署过程是自动完成的；



# 持续部署的条件

- 完善的测试，测试精准率极高；
- 文档更新和部署一致；
- 有充分的容错和回滚预案



